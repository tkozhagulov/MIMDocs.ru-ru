---
title: Руководство по планированию ресурсов | Документация Майкрософт
description: В этом руководстве описаны аспекты, которые нужно принять во внимание перед развертыванием MIM 2016, включая уровни нагрузки и принятие решений по политике.
keywords: ''
author: billmath
ms.author: barclayn
manager: mbaldwin
ms.date: 10/12/2017
ms.topic: article
ms.service: microsoft-identity-manager
ms.technology: security
ms.assetid: 3ac5b990-1678-4996-996d-cbd84b8426b4
ms.reviewer: mwahl
ms.suite: ems
ms.openlocfilehash: 32cdf03ffa0d0d282a6277af766f97e93e3a3f3a
ms.sourcegitcommit: 35f2989dc007336422c58a6a94e304fa84d1bcb6
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/20/2018
ms.locfileid: "36289019"
---
# <a name="capacity-planning-guide"></a>Руководство по планированию ресурсов

Microsoft Identity Manager (MIM) позволяет создавать, обновлять и удалять учетные записи пользователей в организации. Кроме того, пользователи могут управлять возможностями самообслуживания своих учетных записей. Даже в небольшой среде число таких действий быстро увеличивается.

Прежде чем начать работу с MIM, ознакомьтесь с этим руководством и используйте среды тестирования, чтобы понять необходимый вам масштаб развертывания. В этой статье рассматриваются многие распространенные факторы, которые следует учитывать. Несмотря на то, что каждое развертывание уникальное, тестирование сценариев в лаборатории — лучший способ определения серверов, оборудования и топологий, соответствующих вашим потребностям.

Если вы еще не знакомы с MIM 2016 и его компонентами, прежде чем продолжать изучение этого документа, ознакомьтесь с дополнительными сведениями о [Microsoft Identity Manager 2016](microsoft-identity-manager-2016.md).

## <a name="overview"></a>Обзор

Существует несколько факторов, которые могут влиять на общую емкость и производительность развертывания Microsoft Identity Manager.

- Способ физического развертывания компонентов MIM (топология).
- Оборудование, на котором запускаются эти компоненты.
- Количество и сложность объектов конфигурации политик MIM являются важными факторами при планировании емкости.
- Ожидаемый масштаб развертывания и ожидаемая нагрузка обычно являются более очевидными факторами, влияющими на производительность и емкость.

В следующей таблице указаны основные факторы, влияющие на потенциальную емкость и производительность развертывания MIM 2016.

| Критерий проектирования | Рекомендации |
| ------------- | -------------- |
| Топология | Распределение служб MIM среди компьютеров в сети. |
| Оборудование | Оборудование (физическое или виртуальное) для каждого компонента MIM, включая ЦП, память, сетевой адаптер и конфигурацию жесткого диска. |
| Объекты конфигурации политик MIM | Число и тип объектов конфигурации политик MIM, включая наборы правила политики управления (MPR) и рабочие процессы. |
| Масштабирование | Пользователи, группы, вычисляемые группы и типы пользовательских объектов, которые должны находиться под управлением MIM 2016. Кроме того, примите во внимание сложность динамических групп и обязательно учитывайте вложение групп. |
| Загрузить | Частота использования. Такие операции как создание новой группы или пользователя, сброс пароля или количество посещений портала за минуту или за час. Обратите внимание, что в течение часа, дня, недели или года нагрузка может варьироваться. В зависимости от компонента может потребоваться ориентироваться на пиковую или среднюю нагрузку. |

## <a name="hosting-microsoft-identity-manager-components"></a>Размещение компонентов Microsoft Identity Manager

Компоненты Microsoft Identity Manager не должны находиться на одном компьютере. Однако при планировании производительности следует учитывать эти компоненты, а также физические или виртуальные машины, на которых они будут размещены.

Факторы, связанные с оборудованием, могут повлиять на производительность среды MIM. Пример.

- Что такое конфигурация физического диска для компьютера, где выполняется База данных SQL для службы MIM 2016? Количество шпинделей, составляющих конфигурацию дисков, или распределение файлов журналов и данных могут значительно снизить производительность системы.

Кроме того, следует учитывать и внешние факторы. Пример.

- Какие еще приложения имеют общий доступ к сети SAN, когда она используется в качестве конфигурации базы данных MIM 2016? Эти приложения могут влиять на производительность базы данных, конкурируя за общие дисковые ресурсы в сети SAN.

## <a name="users-and-groups"></a>Пользователи или группы

Количество пользователей и групп в вашей среде следует учитывать при рассмотрении масштаба развертывания. Однако существует и ряд других факторов, которые следует также принять во внимание.

- Могут ли пользователи создавать группы? Если могут, следует оценить, как это повлияет на рост групп в вашей среде.

- Будут ли развертываться динамические группы? Определите количество и типы динамических групп, которые будут в вашей среде.

## <a name="expected-load-levels"></a>Уровни ожидаемой нагрузки

Следует также учитывать тип нагрузки, возлагаемой на компоненты MIM. Чтобы оценить загрузку, посмотрите на текущие приложения в вашей среде. Примите во внимание следующие аспекты:

- Насколько часто ожидаются запросы на присоединение к группе или выход из нее?

- Насколько часто ожидается создание статической или динамической группы пользователем?

- Сколько неуправляемых пользователями операций ожидается, например синхронизация изменений из внешних систем? Учтите нагрузку, создаваемую при синхронизации сведений об удостоверениях с внешними системами.

- Какой тип сценариев планируется развернуть? Различные сценарии имеют разные шаблоны нагрузки. Например, клиентские компьютеры с установленным клиентом MIM 2016 периодически проверяют, требуется ли регистрация при входе.

- Ожидается ли значительное изменение уровней нагрузки от обычного до пикового? Например, пароли часто сбрасывают после праздников. Убедитесь, что обслуживание и синхронизация запланированы на время, отличное от ожидаемой пиковой нагрузки. При планировании ресурсов обязательно учитывайте периоды пиковой нагрузки.

## <a name="policy-configuration-objects"></a>Объекты конфигурации политик

Объекты конфигурации политик MIM включают правила политики управления, наборы, рабочие процессы и правила синхронизации для развертываний. Развертывания MIM уникальны для каждого клиента, потому что конфигурация политики изменяется в соответствии с потребностями каждого развертывания. Основные аспекты производительности включают следующие объекты конфигурации политик MIM.

- **Наборы**. Каждая операция в системе должна оцениваться относительно существующих членств наборов, а также обновлений, вносящих изменения в такое членство. Например, изменение номера дома для отдельного офиса не оказывает значительного влияния на систему. Однако другие изменения могут создавать каскадный эффект, например смена руководителя, которая может затрагивать несколько объектов на разных уровнях.

- **Правила политики управления**. Они используются для управления правилами контроля доступа и запуска рабочих процессов. При создании правил политики управления может потребоваться увеличить количество наборов для того, чтобы зарегистрировать различные состояния перехода для объектов. Эти дополнительные наборы могут приводить к запуску дополнительных рабочих процессов, каждый из которых связан с уникальными запросами в системе. Следовательно, это также необходимо учитывать при планировании ресурсов.

Конфигурация политики MIM также включает решения для подготовки к работе в вашей среде. Учтите следующие моменты.

- Будут ли администраторы внешней безопасности подготавливаться в рамках нескольких лесов доменных служб Active Directory (AD DS)? Это приведет к созданию дополнительных рабочих процессов и запросов, которые повлекут за собой повышенную нагрузку на систему.

- Будет ли использоваться подготовка без программирования? Если будет, это повлияет на число ожидаемых записей правил, а также на соответствующие запросы и рабочие процессы в системе.

## <a name="next-steps"></a>Дальнейшие шаги

- [Вопросы по топологии для развертывания MIM](topology-considerations.md)
- Скачиваемое [руководство по планированию ресурсов для Forefront Identity Manager (FIM) 2010](http://go.microsoft.com/fwlink/?LinkId=200180) содержит более подробные сведения о тестовой сборке и результатах тестирования производительности.
